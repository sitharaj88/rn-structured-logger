<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>rn-structured-logger</title><meta name="description" content="Documentation for rn-structured-logger"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">rn-structured-logger</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>rn-structured-logger</h2></div><div class="tsd-panel tsd-typography"><a id="md:rn-structured-logger" class="tsd-anchor"></a><h1><a href="#md:rn-structured-logger">RN Structured Logger</a></h1><p>An enterprise‑grade logging library for React Native, Expo and cross‑platform JavaScript applications. It provides structured logs, namespaces, context injection, batching, rate limiting and redaction out of the box. Logs are batched and flushed asynchronously to reduce impact on the UI thread and can be persisted locally or forwarded to remote services such as Sentry.</p>
<a id="md:documentation" class="tsd-anchor"></a><h2><a href="#md:documentation">Documentation</a></h2><ul>
<li><a href="./docs/">API Documentation</a> - Generated TypeDoc documentation for all classes, interfaces, and functions.</li>
</ul>
<a id="md:motivation" class="tsd-anchor"></a><h2><a href="#md:motivation">Motivation</a></h2><p>Effective logging is essential for maintaining, debugging and monitoring mobile applications.  Well‑structured logs provide insight into user actions, system events and performance metrics【267964047010966†L150-L180】.  At the same time, excessive logging can negatively impact performance, consume storage and leak sensitive data【267964047010966†L167-L170】【267964047010966†L247-L257】.  This library follows best practices outlined by modern observability guides, including log rotation, asynchronous batching, remote collection, rate limiting and data masking【267964047010966†L247-L263】.</p>
<a id="md:features" class="tsd-anchor"></a><h2><a href="#md:features">Features</a></h2><ul>
<li><strong>Structured log records</strong>: Each entry includes a timestamp, level, message, namespace and arbitrary context.</li>
<li><strong>Pluggable transports</strong>: Send logs to the JavaScript console, persist them to the local filesystem (with rotation), or forward them to Sentry or your own HTTP endpoint.  Multiple transports can run concurrently.</li>
<li><strong>Namespaces (child loggers)</strong>: Create scoped loggers (e.g. <code>auth:login</code>) to filter or group logs.</li>
<li><strong>Context injection</strong>: Attach correlation IDs, user identifiers, device metadata or any other static information to every log record.</li>
<li><strong>Redaction</strong>: Mask sensitive properties (password, token, etc.) before they leave the device.  You can specify additional keys to redact.</li>
<li><strong>Rate limiting and sampling</strong>: Protect your backend and devices by limiting the number of logs per minute and sampling non‑error logs at configurable rates.</li>
<li><strong>Batching and asynchronous flushing</strong>: Logs are buffered and written in batches on a background queue, minimizing UI thread impact【267964047010966†L247-L263】.  You control the batch size and flush interval.</li>
<li><strong>Conditional logging</strong>: Dynamically adjust severity levels at runtime (e.g. verbose debugging in development, minimal logging in production)【267964047010966†L247-L257】.</li>
<li><strong>Console patching (optional)</strong>: Redirect <code>console.log</code>, <code>warn</code>, <code>error</code> and <code>info</code> through your logger so all third‑party libraries follow your policies.</li>
<li><strong>TypeScript types</strong>: First‑class TypeScript support with strict typings.</li>
</ul>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><pre><code class="language-sh"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">rn-structured-logger</span><br/><span class="hl-3"># or</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">rn-structured-logger</span>
</code><button>Copy</button></pre>
<p>You must also install <code>react-native-fs</code> and <code>@sentry/react-native</code> if you intend to use the file or Sentry transports:</p>
<pre><code class="language-sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">react-native-fs</span><span class="hl-1"> </span><span class="hl-2">@sentry/react-native</span>
</code><button>Copy</button></pre>
<p>These are declared as peer dependencies so your project controls their versions.</p>
<a id="md:usage" class="tsd-anchor"></a><h2><a href="#md:usage">Usage</a></h2><a id="md:setup" class="tsd-anchor"></a><h3><a href="#md:setup">Setup</a></h3><p>Initialise the logger once, typically during app bootstrap.  Provide transports appropriate to your environment and inject static device information.</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">initLogger</span><span class="hl-1">, </span><span class="hl-5">ConsoleTransport</span><span class="hl-1">, </span><span class="hl-5">FileTransport</span><span class="hl-1">, </span><span class="hl-5">SentryTransport</span><span class="hl-1">, </span><span class="hl-5">makeRedactor</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;rn-structured-logger&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">DeviceInfo</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;react-native-device-info&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-6">*</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-5">Sentry</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sentry/react-native&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// gather static device/app info</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">device</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-5">appVersion:</span><span class="hl-1"> </span><span class="hl-5">DeviceInfo</span><span class="hl-1">.</span><span class="hl-0">getVersion</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-5">buildNumber:</span><span class="hl-1"> </span><span class="hl-5">DeviceInfo</span><span class="hl-1">.</span><span class="hl-0">getBuildNumber</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-5">os:</span><span class="hl-1"> </span><span class="hl-5">DeviceInfo</span><span class="hl-1">.</span><span class="hl-0">getSystemName</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-5">osVersion:</span><span class="hl-1"> </span><span class="hl-5">DeviceInfo</span><span class="hl-1">.</span><span class="hl-0">getSystemVersion</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-5">deviceId:</span><span class="hl-1"> </span><span class="hl-5">DeviceInfo</span><span class="hl-1">.</span><span class="hl-0">getDeviceId</span><span class="hl-1">(),</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-0">initLogger</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">level:</span><span class="hl-1"> </span><span class="hl-5">__DEV__</span><span class="hl-1"> ? </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1"> : </span><span class="hl-2">&#39;info&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">transports:</span><span class="hl-1"> </span><span class="hl-5">__DEV__</span><br/><span class="hl-1">    ? [</span><span class="hl-5">ConsoleTransport</span><span class="hl-1">]</span><br/><span class="hl-1">    : [</span><span class="hl-5">ConsoleTransport</span><span class="hl-1">, </span><span class="hl-0">FileTransport</span><span class="hl-1">({ </span><span class="hl-5">fileName:</span><span class="hl-1"> </span><span class="hl-2">&#39;app.log&#39;</span><span class="hl-1"> }), </span><span class="hl-0">SentryTransport</span><span class="hl-1">()],</span><br/><span class="hl-1">  </span><span class="hl-5">redactor:</span><span class="hl-1"> </span><span class="hl-0">makeRedactor</span><span class="hl-1">([</span><span class="hl-2">&#39;email&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;phone&#39;</span><span class="hl-1">]),</span><br/><span class="hl-1">  </span><span class="hl-5">sampling:</span><span class="hl-1"> { </span><span class="hl-5">rate:</span><span class="hl-1"> </span><span class="hl-5">__DEV__</span><span class="hl-1"> ? </span><span class="hl-8">1</span><span class="hl-1"> : </span><span class="hl-8">0.1</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-5">rateLimit:</span><span class="hl-1"> { </span><span class="hl-5">maxPerMin:</span><span class="hl-1"> </span><span class="hl-8">300</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-5">batch:</span><span class="hl-1"> { </span><span class="hl-5">size:</span><span class="hl-1"> </span><span class="hl-8">50</span><span class="hl-1">, </span><span class="hl-5">intervalMs:</span><span class="hl-1"> </span><span class="hl-8">2000</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-5">device</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">patchConsole:</span><span class="hl-1"> </span><span class="hl-6">true</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:logging-events" class="tsd-anchor"></a><h3><a href="#md:logging-events">Logging events</a></h3><p>Retrieve a logger via <code>getLogger()</code> and use its methods:</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">getLogger</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;rn-structured-logger&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">logger</span><span class="hl-1"> = </span><span class="hl-0">getLogger</span><span class="hl-1">(</span><span class="hl-2">&#39;auth:login&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">logger</span><span class="hl-1">.</span><span class="hl-0">debug</span><span class="hl-1">(</span><span class="hl-2">&#39;Attempting login&#39;</span><span class="hl-1">, { </span><span class="hl-5">username:</span><span class="hl-1"> </span><span class="hl-2">&#39;alice@example.com&#39;</span><span class="hl-1"> });</span><br/><span class="hl-4">try</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">authRepository</span><span class="hl-1">.</span><span class="hl-0">login</span><span class="hl-1">(</span><span class="hl-5">credentials</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">logger</span><span class="hl-1">.</span><span class="hl-0">info</span><span class="hl-1">(</span><span class="hl-2">&#39;Login successful&#39;</span><span class="hl-1">, { </span><span class="hl-5">userId:</span><span class="hl-1"> </span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">id</span><span class="hl-1"> });</span><br/><span class="hl-1">} </span><span class="hl-4">catch</span><span class="hl-1"> (</span><span class="hl-5">error</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">logger</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Login failed&#39;</span><span class="hl-1">, { </span><span class="hl-5">error</span><span class="hl-1"> });</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// set correlation ID for an entire flow</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">rootLogger</span><span class="hl-1"> = </span><span class="hl-0">getLogger</span><span class="hl-1">();</span><br/><span class="hl-5">rootLogger</span><span class="hl-1">.</span><span class="hl-0">setCorrelationId</span><span class="hl-1">(</span><span class="hl-2">&#39;req-9b2c1...&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// adjust level at runtime</span><br/><span class="hl-5">rootLogger</span><span class="hl-1">.</span><span class="hl-0">setLevel</span><span class="hl-1">(</span><span class="hl-2">&#39;warn&#39;</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:flushing-and-disposing" class="tsd-anchor"></a><h3><a href="#md:flushing-and-disposing">Flushing and disposing</a></h3><p>If your app needs to flush logs before exit or when the user logs out, call:</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">getLogger</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;react-native-enterprise-logger&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">getLogger</span><span class="hl-1">().</span><span class="hl-0">flush</span><span class="hl-1">();    </span><span class="hl-3">// flush queued records</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">getLogger</span><span class="hl-1">().</span><span class="hl-0">dispose</span><span class="hl-1">();  </span><span class="hl-3">// flush and dispose transports</span>
</code><button>Copy</button></pre>
<a id="md:transports" class="tsd-anchor"></a><h2><a href="#md:transports">Transports</a></h2><ul>
<li><strong>ConsoleTransport</strong>: Writes logs to the console.  The message includes an ISO date, namespace and level.  Info and below use <code>console.debug</code>/<code>console.info</code>; warnings and errors use <code>console.warn</code>/<code>console.error</code>.</li>
<li><strong>FileTransport</strong>: Writes each batch of logs to a file using <code>react-native-fs</code>.  Rotates the log when it exceeds a size threshold (default 512 KiB).  Each record is stored as JSON on its own line.  Use log rotation and management to prevent logs from consuming too much storage【267964047010966†L167-L170】.</li>
<li><strong>SentryTransport</strong>: Sends error and fatal logs to Sentry via breadcrumbs and <code>captureMessage</code>.  Other levels are added as breadcrumbs only.  Requires <code>@sentry/react-native</code> to be installed.</li>
<li><strong>HttpTransport</strong>: Sends logs to a custom HTTP endpoint with JSON body.  You can specify additional headers (e.g. for authentication).  Logs are batched and sent via a single POST request to minimise network overhead【267964047010966†L259-L263】.</li>
</ul>
<p>You can also implement your own transport by creating an object with a <code>name</code> and <code>write(batch: LogRecord[])</code> method.  Optionally implement <code>flush</code> and <code>dispose</code> for transports that need to perform asynchronous work during shutdown.</p>
<a id="md:security-and-privacy" class="tsd-anchor"></a><h2><a href="#md:security-and-privacy">Security and privacy</a></h2><p>Protecting sensitive user data is paramount.  This library provides a simple redaction helper that masks keys like <code>password</code>, <code>token</code> and others.  You can specify additional keys when creating the redactor.  Always avoid logging personally identifiable information (PII) and secrets, and mask any confidential data before sending it anywhere【267964047010966†L279-L297】.  When sending logs to remote endpoints, ensure you use HTTPS and secure authentication【267964047010966†L294-L301】.</p>
<a id="md:license" class="tsd-anchor"></a><h2><a href="#md:license">License</a></h2><p>MIT</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:rn-structured-logger"><span>RN <wbr/>Structured <wbr/>Logger</span></a><ul><li><a href="#md:documentation"><span>Documentation</span></a></li><li><a href="#md:motivation"><span>Motivation</span></a></li><li><a href="#md:features"><span>Features</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:usage"><span>Usage</span></a></li><li><ul><li><a href="#md:setup"><span>Setup</span></a></li><li><a href="#md:logging-events"><span>Logging events</span></a></li><li><a href="#md:flushing-and-disposing"><span>Flushing and disposing</span></a></li></ul></li><li><a href="#md:transports"><span>Transports</span></a></li><li><a href="#md:security-and-privacy"><span>Security and privacy</span></a></li><li><a href="#md:license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>rn-structured-logger</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>